<div class="czls-body-2" [class.pl-3]="padded && type !== 'uri'">
  @switch (type) { @case ('Date') {
  {{ value | translocoDate }}
  } @case ('number') {
  {{ value }}
  } @case ('uri') {
  <button mat-button color="primary" [matTooltip]="value" [matMenuTriggerFor]="uriMenu" (click)="$event.stopPropagation()">
    {{ value | uriCrop }}
  </button>
  <mat-menu #uriMenu>
    <button mat-menu-item [cdkCopyToClipboard]="value" (click)="openSnackbar('The Uri is copied to your clipboard')">
      <mat-icon>content_copy</mat-icon>
      Copy uri
    </button>
    @if (modelHit) {
    <a mat-menu-item target="_blank" [routerLink]="[]" [queryParamsHandling]="'merge'" [queryParams]="{ _id: modelHit._id }">
      <mat-icon>open_in_new</mat-icon>
      Open in new tab
    </a>
    }
  </mat-menu>
  } @case ('JsonModel') {
  <mat-expansion-panel class="my-2" [expanded]="opened">
    <mat-expansion-panel-header>
      {{ (value['@id'] | uriCrop) || key }}
      @if (value | jsonModelLabel; as label) { - {{ label | czLabel }}
      }
    </mat-expansion-panel-header>
    <ng-template matExpansionPanelContent>
      @if (value['@id']) {
      <div>
        <span class="czls-title">uri</span>
        <cz-attribute-display [model]="value" [key]="'@id'"></cz-attribute-display>
      </div>
      } @if (value['@type']) {
      <div>
        <span class="czls-title">type</span>
        <cz-attribute-display [model]="value" [key]="'@type'" [padded]="true"></cz-attribute-display>
      </div>
      } @if (value['@facets']) {
      <div>
        <span class="czls-title">facets</span>
        <ngx-json-viewer [json]="value['@facets']" [depth]="2"></ngx-json-viewer>
      </div>
      } @for (key of subKeys; track key) {
      <div>
        <span class="czls-title">{{ key }}</span>
        <cz-attribute-display [model]="value" [key]="key" [padded]="true"></cz-attribute-display>
      </div>
      }
    </ng-template>
  </mat-expansion-panel>
  } @case ('Array') { @for (m of value; track m) {
  <cz-attribute-display class="d-block" [model]="m"></cz-attribute-display>
  } } @case ('boolean') {
  {{ value ? 'true' : false }}
  } @default { @if (value | czTranslate; as text) { @if (text | ellipsis; as shortText) {
  <span [matTooltip]="text !== shortText ? text : null">{{ shortText }}</span>
  } } } }
</div>

<!-- TODO use AP for display type -->
<!-- TODO uri quick add to uri and included filters -->
<!-- TODO search for concepts -->
<!-- TODO see more https://fedlex.data.admin.ch/eli/treaty/1950/0267 -->
